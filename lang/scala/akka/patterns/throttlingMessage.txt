Goal: message not sent out at too high rate

All messages must be immutable

Design: trhottler will start a time that triggers every second and each time will give throttler 3 vouchers, each allows the delivery of a
message

-----

Problem with this design:
1.only start times are taken into account, not the actual rate observed on the server. So long requests might arrive on server at the same
time
2.only guarantes for teh intervals of its own timer, may have a peak around the intervals

------

Use FSM to model throttler: active and idle

Active: target is set, at least 1 message needs to be deliver, or timer of the last delivered is still running (why do we need this or?)

