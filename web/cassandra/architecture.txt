A sequentially written comit log on each node captures write activity. Data is then idnexed and written t memtable, once memtable is full, data is written to disk in an SSTable data file. Periodically, SSTables are compacted

A cluster has one keyspace per application

When a client connects to a node with a request, that node serves as the coordinator for that particular client op. Coordinate acts as proxy between the client aplication and the nodes that own the data being reqeusted

Replication is set by data center. Data can be written to multiple data centers, but data centers shoudl never span physical locations

A cluster contains one or more data centers

Commit log: After all its data has been flushed to SSTable

SSTable: A sorted string table is an immutable data file to which Cassandra writes memtables periodcially. SSTables are append only and stored on disk sequentially

Gossip: p-to-p communicaiton protocol to discover and share location and state information about the other nodes in a cluster. Gossip infomraiton is also persisted locally by each node to use immediately when a node restarts.
Use the smale list of seed nodes for all nodes in a cluster. In multple data-center clusters, at least one node from each data center

Partitioner:  detemrins how to distribute the data cross the nodes in the cluster and which node to place the first copy of data on.

Snitch: defines groups of machnines into data centers and racks that the replication strategy uses to place relicas => must configure a snitch when you create a cluster => use GossipingPropertyFileSnitch for produciton

To permanently change a node's membership in cluster, admin must exlicitly add or remove nodes from a cluster using nodetool or OpsCenter

Run a repair after recovering a node that has been down for an extended period.

Use NetworkToplogyStrategy, during creation of the keyspace,  you use the data center names defined for the snitch used by the cluster.

Ec2Snitch and Ec2MultiRegionSnitch

Production: 16G to 64G RAM, 8-core CPU, SSD recommended (with details),  500G to 1TB per node, at least two disks, the commit log should be on its own partition. Generally not necessary to use RAID

Anti-patterns: SAN storage, network attached storage, 
SELECT ... IN or index lookups, Reading before writing => Reads take time for every request, have multiple disk htis for uncahcned reads
Putting load balancers between C and clients
Repeated DROP TABLE?CREATE TABLE with same table name => use TRUNCATE to remove data if you whish to rewrite all the data

should use pssh and cssh to access multiple nodes. Passwordless SSH, commands to use
iostat, mpstat, iftop: show list of network connections, sar, lsof, netstat, htop, vmstat: reports information about processes and ...



